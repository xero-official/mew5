{"version":3,"sources":["webpack:///./src/dapps/MakerDai/helpers.js","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue?a526","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue?b852","webpack:///src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue?7bb0","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/index.js","webpack:///./src/dapps/MakerDai/components/CloseCdpModal/CloseCdpModal.vue?bb4b","webpack:///src/dapps/MakerDai/components/CloseCdpModal/CloseCdpModal.vue","webpack:///./src/dapps/MakerDai/components/CloseCdpModal/CloseCdpModal.vue?569d","webpack:///./src/dapps/MakerDai/components/CloseCdpModal/CloseCdpModal.vue","webpack:///./src/dapps/MakerDai/components/CloseCdpModal/index.js","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue?83a3","webpack:///./src/dapps/MakerDai/components/CloseCdpModal/CloseCdpModal.vue?6bcc","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue?4b66","webpack:///src/dapps/MakerDai/components/CheckBox/CheckBox.vue","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue?28c6","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue","webpack:///./src/dapps/MakerDai/components/CheckBox/index.js"],"names":["toBigNumber","num","BigNumber","bnOver","one","two","three","times","div","displayPercentValue","raw","isBigNumber","toString","displayFixedValue","decimals","round","isFinite","isNaN","toFixed","ROUND_DOWN","displayFixedPercent","value","gt","maxDai","ethPrice","ethCollateral","liquidationRatio","debtValue","minus","maxPethDraw","pethCollateral","pethPrice","pethMin","plus","maxEthDraw","minEth","calcCollatRatio","ethQty","daiQty","calcLiquidationPrice","getInt","parseInt","i","atValue","lte","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","$t","_v","_s","on","checkBoxClicked","scopedSlots","_u","key","fn","proxy","directives","name","rawName","expression","domProps","$event","target","composing","address","destAddressProxy","_e","destAddressHasProxy","cancelButton","nativeOn","closeModal","submitButton","btnActive","moveCdp","staticRenderFns","components","CheckBox","HelpCenterButton","StandardButton","props","tokensWithBalance","type","Array","default","action","String","values","Object","maxUsdDraw","usdCollateral","collateralRatio","cdpId","Boolean","data","amountEth","amountDai","govFee","modalDetailInformation","checkBoxChecked","textValues","mkrToken","title","buttonStyle","noMinWidth","fullWidth","computed","watch","$emit","newVal","mounted","$refs","modal","$on","methods","closeCdp","activeCdp","hide","component","enoughMkr","enoughDai","mkrBalance","getMkr","daiBalance","getDai","stabilityFee","getfeeOwed","approveDaiButton","approveDai","approveMkrButton","approveMkr","closeButton","canClose","makerManager","amount","closable","daiToken","suppliedFrom","symbol","suppliedTo","suppliedToAmount","destAddress","result","newCollateralRatio","collatRatio","newCollateralRatioSafe","newLiquidationPrice","liquidationPrice","balance","mkrNeeded","zeroDebt","daiNeeded","needsDaiApprove","needsMkrApprove","getBalances","delayCloseModal","setTimeout","currentDai","find","item","$nextTick","$eventHub","_t","checkboxChecked"],"mappings":"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","file":"js/chunk-5d2a2fc8.f0db7c28.js","sourcesContent":["import BigNumber from 'bignumber.js';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nconst bnOver = (one, two, three) => {\n  return toBigNumber(one)\n    .times(toBigNumber(two))\n    .div(toBigNumber(three));\n};\n\nexport function displayPercentValue(raw) {\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n  return raw.times(100).toString();\n}\n\nexport function displayFixedValue(raw, decimals = 3, round = true) {\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n  if (!isFinite(raw) || isNaN(raw)) return '--';\n  if (round) return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n  return raw.toFixed(decimals).toString();\n}\n\nexport function displayFixedPercent(raw, decimals = 3, round = true) {\n  const value = displayFixedValue(displayPercentValue(raw), decimals, round);\n  if (isFinite(value) && new BigNumber(value).gt(0)) {\n    return value;\n  }\n  return '--';\n}\n\n// Calculations\n\nexport function maxDai(ethPrice, ethCollateral, liquidationRatio, debtValue) {\n  return bnOver(\n    toBigNumber(ethPrice),\n    toBigNumber(ethCollateral),\n    toBigNumber(liquidationRatio)\n  ).minus(toBigNumber(debtValue));\n}\n\nexport function maxPethDraw(\n  pethCollateral,\n  liquidationRatio,\n  debtValue,\n  pethPrice,\n  pethMin = 0\n) {\n  return toBigNumber(pethCollateral)\n    .minus(\n      bnOver(\n        toBigNumber(liquidationRatio).plus(0.001),\n        toBigNumber(debtValue),\n        toBigNumber(pethPrice)\n      )\n    )\n    .minus(toBigNumber(pethMin).times(1.0));\n}\n\nexport function maxEthDraw(\n  ethCollateral,\n  liquidationRatio,\n  debtValue,\n  ethPrice,\n  minEth = 0\n) {\n  return toBigNumber(ethCollateral)\n    .minus(\n      bnOver(\n        toBigNumber(liquidationRatio),\n        toBigNumber(debtValue),\n        toBigNumber(ethPrice)\n      )\n    )\n    .minus(toBigNumber(minEth).times(1.0));\n}\n\nexport function calcCollatRatio(ethQty, daiQty, ethPrice) {\n  return bnOver(toBigNumber(ethPrice), ethQty, daiQty);\n}\n\nexport function calcLiquidationPrice(\n  ethQty,\n  daiQty,\n  ethPrice,\n  liquidationRatio\n) {\n  const getInt = parseInt(ethPrice);\n  for (let i = getInt; i > 0; i--) {\n    const atValue = bnOver(i, ethQty, daiQty).lte(\n      toBigNumber(liquidationRatio)\n    );\n    if (atValue) {\n      return i;\n    }\n  }\n  for (let i = 100; i > 0; i--) {\n    const atValue = bnOver(i / 100, ethQty, daiQty).lte(\n      toBigNumber(liquidationRatio)\n    );\n    if (atValue) {\n      return i / 100;\n    }\n  }\n  return 0;\n}\n","import mod from \"-!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=44ff5ade&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=44ff5ade&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.moveTitle'),\"hide-footer\":\"\",\"centered\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content\"},[_c('p',{staticClass:\"top-text\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('dappsMaker.moveNotice'))+\"\\n      \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.understandAndAgree'))+\"\\n          \")])]},proxy:true}])}),_c('div',{staticClass:\"input-container\"},[_c('label',[_vm._v(_vm._s(_vm.$t('dappsMaker.moveQuestion')))]),_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address),expression:\"address\"}],domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value}}})])]),_c('div',[(_vm.destAddressHasProxy)?_c('div',[_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.proxyAddress', { value: _vm.destAddressProxy }))+\"\\n          \")]),_vm._v(\"\\n          \"+_vm._s(_vm.$t('dappsMaker.moveWithProxy'))+\"\\n        \")]):_vm._e(),(!_vm.destAddressHasProxy)?_c('div',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('dappsMaker.moveWithoutProxy'))+\"\\n        \")]):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton},nativeOn:{\"click\":function($event){return _vm.closeModal($event)}}}),_c('standard-button',{attrs:{\"options\":_vm.submitButton,\"button-disabled\":_vm.btnActive ? false : true,\"click-function\":_vm.moveCdp}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.moveTitle')\"\n      hide-footer\n      centered\n      class=\"bootstrap-modal nopadding\"\n      static\n      lazy\n    >\n      <div class=\"modal-content\">\n        <p class=\"top-text\">\n          {{ $t('dappsMaker.moveNotice') }}\n        </p>\n        <check-box @changeStatus=\"checkBoxClicked\">\n          <template v-slot:terms\n            ><p class=\"checkbox-label\">\n              {{ $t('dappsMaker.understandAndAgree') }}\n            </p></template\n          >\n        </check-box>\n\n        <div class=\"input-container\">\n          <label>{{ $t('dappsMaker.moveQuestion') }}</label>\n          <div class=\"input-box\">\n            <input v-model=\"address\" />\n          </div>\n        </div>\n        <div>\n          <div v-if=\"destAddressHasProxy\">\n            <p>\n              {{ $t('dappsMaker.proxyAddress', { value: destAddressProxy }) }}\n            </p>\n            {{ $t('dappsMaker.moveWithProxy') }}\n          </div>\n          <div v-if=\"!destAddressHasProxy\">\n            {{ $t('dappsMaker.moveWithoutProxy') }}\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button :options=\"cancelButton\" @click.native=\"closeModal\" />\n          <standard-button\n            :options=\"submitButton\"\n            :button-disabled=\"btnActive ? false : true\"\n            :click-function=\"moveCdp\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\n\nimport BigNumber from 'bignumber.js/bignumber.js';\n\nimport { Misc } from '@/helpers';\nexport default {\n  components: {\n    'check-box': CheckBox,\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    destAddressHasProxy: {\n      type: Boolean,\n      default: false\n    },\n    destAddressProxy: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      address: '',\n      amountEth: 0,\n      amountDai: 0,\n      govFee: 0,\n      modalDetailInformation: false,\n      checkBoxChecked: false,\n      textValues: {},\n      mkrToken: {},\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        noMinWidth: true\n      },\n      submitButton: {\n        title: 'Submit',\n        buttonStyle: 'green',\n        noMinWidth: true,\n        fullWidth: true\n      }\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    btnActive() {\n      return Misc.isValidETHAddress(this.address) && this.checkBoxChecked;\n    }\n  },\n  watch: {\n    address(newVal) {\n      if (Misc.isValidETHAddress(newVal)) {\n        this.$emit('checkForProxy', newVal);\n      }\n    }\n  },\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.address = '';\n    });\n  },\n  methods: {\n    closeCdp() {\n      this.activeCdp.closeCdp();\n    },\n    checkBoxClicked() {\n      this.checkBoxChecked = !this.checkBoxChecked;\n    },\n    displayPercentValue(raw) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.times(100).toString();\n    },\n    displayFixedValue(raw, decimals = 3) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    },\n    async moveCdp() {\n      if (Misc.isValidETHAddress(this.address)) {\n        this.$emit('moveCdp', this.address);\n        this.closeModal();\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'MoveCdp';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveCdp.vue?vue&type=template&id=44ff5ade&scoped=true&\"\nimport script from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoveCdp.vue?vue&type=style&index=0&id=44ff5ade&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44ff5ade\",\n  null\n  \n)\n\nexport default component.exports","export { default } from './MoveCdp';\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.closeTitle'),\"centered\":\"\",\"static\":\"\",\"lazy\":\"\",\"hide-footer\":\"\"}},[_c('div',{staticClass:\"contents\"},[(!_vm.enoughMkr)?_c('div',{staticClass:\"message-container\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('dappsMaker.notEnoughMkrClose'))+\"\\n      \")]):_vm._e(),(!_vm.enoughDai)?_c('div',{staticClass:\"message-container\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('dappsMaker.notEnoughDaiClose'))+\"\\n      \")]):_vm._e(),_c('p',{staticClass:\"top-text\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('dappsMaker.closingNotice'))+\"\\n      \")]),_c('div',{staticClass:\"value-table-container\"},[_c('div',{staticClass:\"value-table mkr-balance\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.mkrBalance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.mkrBalance)+\" MKR\")])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enoughMkr),expression:\"!enoughMkr\"}],staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getMkr()}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.getMkr'))+\"\\n          \")])]),_c('div',{staticClass:\"value-table mkr-balance\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.daiBalance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.daiBalance)+\" DAI\")])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enoughDai),expression:\"!enoughDai\"}],staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getDai()}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('dappsMaker.getDai'))+\"\\n          \")])]),_c('div',{staticClass:\"value-table other-values\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.outstandingDai')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.debtValue)+\" DAI\")])])]),_c('div',{staticClass:\"value-block\"},[_c('p',[_vm._v(\"\\n              \"+_vm._s(_vm.$t('dappsMaker.stabilityFeeInMkr', {\n                  value: _vm.displayFixedValue(\n                    _vm.displayPercentValue(_vm.values.stabilityFee)\n                  )\n                }))+\"\\n            \")]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.getfeeOwed)+\" MKR\")])])])])]),_c('div',{staticClass:\"buttons\"},[(_vm.needsDaiApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveDaiButton},nativeOn:{\"click\":function($event){return _vm.approveDai($event)}}})],1):_vm._e(),(_vm.needsMkrApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":_vm.approveMkrButton},nativeOn:{\"click\":function($event){return _vm.approveMkr($event)}}})],1):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":_vm.cancelButton},nativeOn:{\"click\":function($event){return _vm.closeModal($event)}}}),_c('standard-button',{attrs:{\"options\":_vm.closeButton,\"button-disabled\":_vm.canClose ? false : true,\"click-function\":_vm.closeCdp}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.closeTitle')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      static\n      lazy\n      hide-footer\n    >\n      <div class=\"contents\">\n        <div v-if=\"!enoughMkr\" class=\"message-container\">\n          {{ $t('dappsMaker.notEnoughMkrClose') }}\n        </div>\n        <div v-if=\"!enoughDai\" class=\"message-container\">\n          {{ $t('dappsMaker.notEnoughDaiClose') }}\n        </div>\n        <p class=\"top-text\">\n          {{ $t('dappsMaker.closingNotice') }}\n        </p>\n\n        <div class=\"value-table-container\">\n          <div class=\"value-table mkr-balance\">\n            <div class=\"value-block\">\n              <p>\n                <b>{{ $t('dappsMaker.mkrBalance') }}</b>\n              </p>\n              <p>\n                <b>{{ mkrBalance }} MKR</b>\n              </p>\n            </div>\n            <p v-show=\"!enoughMkr\" class=\"get-mkr\" @click=\"getMkr()\">\n              {{ $t('dappsMaker.getMkr') }}\n            </p>\n          </div>\n\n          <div class=\"value-table mkr-balance\">\n            <div class=\"value-block\">\n              <p>\n                <b>{{ $t('dappsMaker.daiBalance') }}</b>\n              </p>\n              <p>\n                <b>{{ daiBalance }} DAI</b>\n              </p>\n            </div>\n            <p v-show=\"!enoughDai\" class=\"get-mkr\" @click=\"getDai()\">\n              {{ $t('dappsMaker.getDai') }}\n            </p>\n          </div>\n          <div class=\"value-table other-values\">\n            <div class=\"value-block\">\n              <p>{{ $t('dappsMaker.outstandingDai') }}</p>\n              <p>\n                <b>{{ values.debtValue }} DAI</b>\n              </p>\n            </div>\n            <div class=\"value-block\">\n              <p>\n                {{\n                  $t('dappsMaker.stabilityFeeInMkr', {\n                    value: displayFixedValue(\n                      displayPercentValue(values.stabilityFee)\n                    )\n                  })\n                }}\n              </p>\n              <p>\n                <b>{{ getfeeOwed }} MKR</b>\n              </p>\n            </div>\n          </div>\n        </div>\n        <!-- TODO: work these into the user flow.  Batch transaction would be better, but an initial try brought the browser crashing issue back -->\n        <div class=\"buttons\">\n          <div v-if=\"needsDaiApprove\">\n            <standard-button\n              :options=\"approveDaiButton\"\n              @click.native=\"approveDai\"\n            />\n          </div>\n          <div v-if=\"needsMkrApprove\">\n            <standard-button\n              :options=\"approveMkrButton\"\n              @click.native=\"approveMkr\"\n            />\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button :options=\"cancelButton\" @click.native=\"closeModal\" />\n          <standard-button\n            :options=\"closeButton\"\n            :button-disabled=\"canClose ? false : true\"\n            :click-function=\"closeCdp\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport BigNumber from 'bignumber.js/bignumber.js';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    makerManager: {\n      type: Object,\n      default: function() {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      govFee: 0,\n      closable: false,\n      modalDetailInformation: false,\n      textValues: {},\n      mkrToken: {},\n      daiToken: {},\n      approveMkrButton: {\n        title: 'Approve Maker',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      approveDaiButton: {\n        title: 'Approve Dai',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      closeButton: {\n        title: 'Close',\n        buttonStyle: 'green',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      suppliedFrom: {\n        symbol: 'ETH',\n        name: 'Ethereum'\n      },\n      suppliedTo: {\n        symbol: 'MKR',\n        name: 'Maker'\n      },\n      suppliedToAmount: 0,\n      destAddress: ''\n    };\n  },\n  computed: {\n    ...mapState(['account', 'gasPrice', 'web3', 'network', 'ens']),\n    getfeeOwed() {\n      const result = this.values.governanceFeeOwed;\n      return this.displayFixedValue(result, 8);\n    },\n    newCollateralRatio() {\n      if (this.values) {\n        return this.values.collatRatio;\n      }\n      return 0;\n    },\n    newCollateralRatioSafe() {\n      if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    },\n    mkrBalance() {\n      if (this.mkrToken) {\n        return this.mkrToken.balance;\n      }\n      return 0;\n    },\n    daiBalance() {\n      if (this.daiToken) {\n        return this.daiToken.balance;\n      }\n      return 0;\n    },\n    enoughMkr() {\n      const mkrNeeded = this.values.governanceFeeOwed;\n      if (mkrNeeded) {\n        return toBigNumber(this.mkrBalance)\n          .minus(mkrNeeded)\n          .gte(0);\n      }\n      return false;\n    },\n    enoughDai() {\n      if (this.values.zeroDebt) return true;\n      const daiNeeded = this.values.debtValue;\n      if (daiNeeded) {\n        return toBigNumber(this.daiBalance)\n          .minus(daiNeeded)\n          .gte(0);\n      }\n      return false;\n    },\n    needsDaiApprove() {\n      if (toBigNumber(this.values.proxyAllowanceDai).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceDai).lte(this.values.debtValue)\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceDai).eq(0);\n    },\n    needsMkrApprove() {\n      if (toBigNumber(this.values.proxyAllowanceMkr).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceMkr).lt(\n            this.values.governanceFeeOwed\n          )\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceMkr).eq(0);\n    },\n    canClose() {\n      return (\n        this.enoughMkr &&\n        this.enoughDai &&\n        !this.needsDaiApprove &&\n        !this.needsMkrApprove\n      );\n    }\n  },\n  watch: {\n    tokensWithBalance() {\n      this.getBalances();\n    }\n  },\n  async mounted() {\n    this.destAddress = this.account.address;\n    this.getBalances();\n    this.$refs.modal.$on('shown', async () => {\n      this.getBalances();\n    });\n  },\n  methods: {\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    },\n    async closeCdp() {\n      this.delayCloseModal();\n      this.$emit('closeCdp');\n    },\n    displayPercentValue(raw) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.times(100).toString();\n    },\n    displayFixedValue(raw, decimals = 3) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    },\n    maxDai() {\n      this.amount = this.values.maxDai;\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    getBalances() {\n      this.mkrToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'MKR';\n      });\n      this.daiToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'DAI';\n      });\n    },\n    getMkr() {\n      const mkrNeeded = this.getfeeOwed;\n      if (toBigNumber(this.mkrBalance).lt(mkrNeeded)) {\n        this.suppliedToAmount = toBigNumber(mkrNeeded)\n          .minus(toBigNumber(this.mkrBalance))\n          .plus(toBigNumber(mkrNeeded).times(0.01))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'MKR',\n          name: 'Maker'\n        };\n        this.$nextTick(() => {\n          this.$refs.swapWidget.$refs.modal.show();\n        });\n      }\n    },\n    getDai() {\n      const daiNeeded = this.values.debtValue;\n      if (toBigNumber(this.daiBalance).lt(daiNeeded)) {\n        this.suppliedToAmount = toBigNumber(daiNeeded)\n          .minus(toBigNumber(this.daiBalance))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'DAI',\n          name: 'Dai'\n        };\n        this.$eventHub.$emit(\n          'showSwapWidgetTo',\n          this.account.address,\n          this.suppliedFrom,\n          this.suppliedTo,\n          this.suppliedToAmount\n        );\n      }\n    },\n\n    async approveDai() {\n      this.$emit('approveDai');\n    },\n    async approveMkr() {\n      this.$emit('approveMkr');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CloseCdpModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CloseCdpModal.vue?vue&type=template&id=e368f9e2&scoped=true&\"\nimport script from \"./CloseCdpModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CloseCdpModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CloseCdpModal.vue?vue&type=style&index=0&id=e368f9e2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e368f9e2\",\n  null\n  \n)\n\nexport default component.exports","export { default } from './CloseCdpModal';\n","import mod from \"-!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=3e6e47df&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=3e6e47df&lang=scss&scoped=true&\"","import mod from \"-!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=style&index=0&id=e368f9e2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../usr/local/lib/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=style&index=0&id=e368f9e2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"check-box\"},[_c('label',{staticClass:\"check-box-container\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":_vm.checkBoxClicked}}),_c('span',{staticClass:\"checkmark\"}),_vm._t(\"terms\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"check-box\">\n    <label class=\"check-box-container\">\n      <input type=\"checkbox\" @click=\"checkBoxClicked\" /><span\n        class=\"checkmark\"\n      ></span>\n      <slot name=\"terms\"></slot>\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      checkboxChecked: false\n    };\n  },\n  methods: {\n    checkBoxClicked() {\n      this.checkboxChecked = !this.checkboxChecked;\n      this.$emit('changeStatus', this.checkboxChecked);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CheckBox.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../../usr/local/lib/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckBox.vue?vue&type=template&id=3e6e47df&scoped=true&\"\nimport script from \"./CheckBox.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckBox.vue?vue&type=style&index=0&id=3e6e47df&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e6e47df\",\n  null\n  \n)\n\nexport default component.exports","export { default } from './CheckBox';\n"],"sourceRoot":""}